CREATE TABLE CUSTOMERS(
CUST_NO NUMBER(10),CNAME VARCHAR2(30),CITY VARCHAR2(30),
PRIMARY KEY(CUST_NO));

CREATE TABLE ORDERS(
ORDER_NO NUMBER(10),ODATE DATE,CUST_NO NUMBER(10),ORDER_AMT NUMBER(10),
PRIMARY KEY(ORDER_NO),
FOREIGN KEY(CUST_NO) REFERENCES CUSTOMERS(CUST_NO) ON DELETE CASCADE);

CREATE TABLE ITEM(ITEM_NO NUMBER(10),PRICE NUMBER(10),PRIMARY KEY(ITEM_NO));

CREATE TABLE ORDER_ITEM(
ORDER_NO NUMBER(10),ITEM_NO NUMBER(10),QTY NUMBER(10),
PRIMARY KEY(ORDER_NO,ITEM_NO),
FOREIGN KEY(ORDER_NO) REFERENCES ORDERS(ORDER_NO)ON DELETE CASCADE,
FOREIGN KEY(ITEM_NO) REFERENCES ITEM(ITEM_NO) ON DELETE CASCADE);

DESC CUSTOMERS;
DESC ORDERS;
DESC ITEM;
DROP TABLE ORDERS;

CREATE TABLE WAREHOUSE(WAREHOUSE_NO NUMBER(10),CITY VARCHAR2(20),PRIMARY KEY(WAREHOUSE_NO));
DROP TABLE SHIPMENT;
DROP TABLE WAREHOUSE;

CREATE TABLE SHIPMENT(ORDER_NO NUMBER(10),WAREHOUSE_NO NUMBER(10), S_DATE DATE,
PRIMARY KEY(ORDER_NO,WAREHOUSE_NO),
FOREIGN KEY(ORDER_NO) REFERENCES ORDERS(ORDER_NO) ON DELETE CASCADE,
FOREIGN KEY(WAREHOUSE_NO) REFERENCES WAREHOUSE(WAREHOUSE_NO) ON DELETE CASCADE);

DROP TABLE SHIPMENT;

INSERT INTO CUSTOMERS VALUES(&CUST_NO,'&CNAME','&CITY');
SELECT * FROM CUSTOMERS;

INSERT INTO ORDERS VALUES(&ORDER_NO,'&ODATE',&CUST_NO,&ORDER_AMT);
SELECT * FROM ORDERS;

INSERT INTO ITEM VALUES(&ITEM_NO,&PRICE);
SELECT * FROM ITEM;

INSERT INTO ORDER_ITEM VALUES(&ORDER_NO,&ITEM_NO,&QTY);
SELECT * FROM ORDER_ITEM;

INSERT INTO WAREHOUSE VALUES(&WAREHOUSE_NO,'&CITY');
SELECT * FROM WAREHOUSE;

INSERT INTO SHIPMENT VALUES(&ORDER_NO,&WAREHOUSE_NO,'&DATE');
SELECT * FROM SHIPMENT;

DELETE FROM CUSTOMERS WHERE CUST_NO=1;